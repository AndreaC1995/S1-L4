Quando un dispositivo, in una rete 192.168.100.0, dovrà inviare un pacchetto in un'altra rete 192.168.200.0, dovrà seguire alcuni passaggi. Innanzitutto sarà lo switch ad indirizzare i pacchetti all'interno della rete locale, per fare questo avrà bisogno del protocollo ARP che mandando dei pacchetti in broadcast a sua volta sarà in grado di conoscere gli indirizzi mac che salverà in una tabella arp, e a cui potremo associare gli indirizzi ip. Una volta che quindi conosceremo l'indirizzo mac del mittente, creerà nel caso del ping, un pacchetto ICMP contenente l'indirizzo ip appunto del mittente e del destinatario, oltre che l'indirizzo mac del mittente e del gateway della rete. Una volta che il pacchetto ICMP arriverà al router, questo lo decapsulerà e lo reincapsulerà con l'indirizzo MAC del gateway della rete in ingresso (quindi 192.168.200.1) e con l'indirizzo mac del destinatario (ammesso che abbia gia una ARP table). A questo punto il pacchetto arriverà all'indirizzo ip che inizialmente volevamo raggiungere e rispedito indietro, completa il ping.